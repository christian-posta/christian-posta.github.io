---
layout: post
title: 'Introducing Apache Apollo: Part I'
date: 2012-08-22 16:50:51.000000000 -07:00
categories: [apollo]
tags: [apache, apollo, activemq]
---
<p>See  <a href="http://www.christianposta.com/blog/?p=278">Part II here</a></p>
<p><a href="http://activemq.apache.org/apollo/index.html">Apache Apollo</a> is the next-generation version of <a href="http://activemq.apache.org/">ActiveMQ</a> built "from the ground up" on a core designed to be faster and scale better on multi-processor machines. <a href="http://activemq.apache.org/">ActiveMQ</a> is one of the most popular open-source (if not the most popular) messaging brokers, and supports good performance, persistence messaging, high-availability, and networks of brokers. Most importantly, ActiveMQ has become very stable through all of its use, and <a href="http://www.fusesource.com/">we</a> have been supporting some of the world's biggest names in retail, banking, e-commerce and government that use it.</p>
<p>As great as <a href="http://activemq.apache.org/">ActiveMQ</a> is right now, it has some complex threading implementations that keep it from being able to scale efficiently on higher-core, higher-resource machines. The threading implementation concerns are not around improper threading, but more that it was designed and developed at a time when there weren't very many proven asynchronous java APIs and non-blocking IO libraries. Any application is susceptible to scalability concerns when there is shared state, contended synchronizations and exclusive locking.</p>
<p>However, ActiveMQ is good at what it does and since it's stable right now, it would be a bad idea to re-write its threading architecture. So that's where <a href="http://activemq.apache.org/apollo/index.html">Apollo</a> comes in: right now it's a subproject of <a href="http://activemq.apache.org/">ActiveMQ</a> where we can take all of the experiences of the ActiveMQ 5.x line, combine it with a new threading architecture, and develop a messaging broker that will meet demands of systems in the future with millions of destinations, hundreds of thousands of connections, high throughput, and utilize resources as efficiently as possible. Eventually, once backward compatibility is reached, Apollo will become ActiveMQ 6.0.</p>
<p>For those of you asking "Does that mean ActiveMQ is EOL?" The answer is emphatically "no". ActiveMQ still has a very long life ahead of it, and as mentioned is being used by industry leaders. Bug fixes and support still continues for ActiveMQ through FuseSource (<a href="http://www.redhat.com/about/news/press-archive/2012/6/red-hat-to-acquire-fusesource">soon to be RedHat</a>) and of course through <a href="http://activemq.apache.org/">the community</a>. As long as there is interest in the community, ActiveMQ (or any Apache project) will not go away.</p>
<p>The goals of Apollo aren't that far fetched, and it isn't such a green project. It's been worked on for over two years, had 6 candidates during its beta period, and v1.0 was released in February 2012. There are already quite a few people using it and are really putting it through the ringer. <a href="http://hiramchirino.com/blog/">Hiram Chirino</a>, the lead developer on Apollo, has also posted some <em>very</em> impressive benchmarks comparing Apollo with other mainstream message brokers: RabbitMQ, HornetQ, and ActiveMQ. See <a href="https://github.com/chirino/stomp-benchmark">the stomp benchmarks here</a> and <a href="https://github.com/chirino/jms-benchmark">the JMS benchmarks here</a>.</p>
<p>At the time of this writing, Apollo has just <a href="http://activemq.apache.org/apollo/download.html">released a new version, v1.4</a>.</p>
<p>In part II, we'll take a look at Apollo's core threading architecture, <a href="http://hawtdispatch.fusesource.org/">hawtdispatch</a>, <a href="http://en.wikipedia.org/wiki/Grand_Central_Dispatch">Grand Central Dispatch</a>, and some of the scalability and performance gains enabled by the new architecture. Stay tuned!</p>
